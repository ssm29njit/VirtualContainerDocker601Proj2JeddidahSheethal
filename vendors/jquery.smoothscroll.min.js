// SmoothScroll v0.9.9
// Licensed under the terms of the MIT license.
// People involved
// - Balazs Galambosi: maintainer (CHANGELOG.txt)
// - Patrick Brunner (patrickb1991@gmail.com)
// - Michael Herf: Pulse Algorithm
(function(u){u(document).ready(function(){function y(){if(document.body){var a=document.body,b=document.documentElement,c=window.innerHeight,d=a.scrollHeight;g=0<=document.compatMode.indexOf("CSS")?b:a;m=a;-1<document.URL.indexOf("google.com/reader/view")&&(z=!0);A=!0;top!=self?B=!0:d>c&&(a.offsetHeight<=c||b.offsetHeight<=c)&&(g.style.height="auto",g.offsetHeight<=c&&(c=document.createElement("div"),c.style.clear="both",a.appendChild(c)));-1<document.URL.indexOf("mail.google.com")&&(a=document.createElement("style"),
a.innerHTML=".iu { visibility: hidden }",(document.getElementsByTagName("head")[0]||b).appendChild(a));z&&window.removeEventListener("keydown",C,!1)}}function D(a,b,c,d){d||(d=1E3);H(b,c);n.push({x:b,y:c,lastX:0>b?.99:-.99,lastY:0>c?.99:-.99,start:+new Date});if(!v){var f=function(){for(var e=+new Date,p=0,g=0,q=0;q<n.length;q++){var h=n[q],k=e-h.start,m=600<=k,l=m?1:k/600;k=l;1<=k?l=1:0>=k?l=0:(1==r&&(r/=E(1)),l=E(k));k=h.x*l-h.lastX>>0;l=h.y*l-h.lastY>>0;p+=k;g+=l;h.lastX+=k;h.lastY+=l;m&&(n.splice(q,
1),q--)}b&&(e=a.scrollLeft,a.scrollLeft+=p,p&&a.scrollLeft===e&&(b=0));c&&(p=a.scrollTop,a.scrollTop+=g,g&&a.scrollTop===p&&(c=0));b||c||(n=[]);n.length?setTimeout(f,d/150+1):v=!1};setTimeout(f,0);v=!0}}function u(a){A||y();var b=a.target,c=F(b);if(!c||a.defaultPrevented||"embed"===m.nodeName.toLowerCase()||"embed"===b.nodeName.toLowerCase()&&/\.pdf/i.test(b.src))return!0;var b=a.wheelDeltaX||0,d=a.wheelDeltaY||0;b||d||(d=a.wheelDelta||0);1.2<Math.abs(b)&&(b*=1.25);1.2<Math.abs(d)&&(d*=1.25);D(c,
-b,-d);a.preventDefault()}function C(a){var b=a.target,c=a.ctrlKey||a.altKey||a.metaKey;if(/input|textarea|embed/i.test(b.nodeName)||b.isContentEditable||a.defaultPrevented||c||"button"===b.nodeName.toLowerCase()&&a.keyCode===e.spacebar)return!0;var d;d=b=0;var c=F(m),f=c.clientHeight;c==document.body&&(f=window.innerHeight);switch(a.keyCode){case e.up:d=-50;break;case e.down:d=50;break;case e.spacebar:d=a.shiftKey?1:-1;d=-d*f*.9;break;case e.pageup:d=.9*-f;break;case e.pagedown:d=.9*f;break;case e.home:d=
-c.scrollTop;break;case e.end:f=c.scrollHeight-c.scrollTop-f;d=0<f?f+10:0;break;case e.left:b=-50;break;case e.right:b=50;break;default:return!0}D(c,b,d);a.preventDefault()}function I(a){m=a.target}function w(a,b){for(var c=a.length;c--;)x[G(a[c])]=b;return b}function F(a){var b=[],c=g.scrollHeight;do{var d=x[G(a)];if(d)return w(b,d);b.push(a);if(c===a.scrollHeight){if(!B||g.clientHeight+10<c)return w(b,document.body)}else if(a.clientHeight+10<a.scrollHeight&&(overflow=getComputedStyle(a,"").getPropertyValue("overflow"),
"scroll"===overflow||"auto"===overflow))return w(b,a)}while(a=a.parentNode)}function H(a,b){a=0<a?1:-1;b=0<b?1:-1;if(t.x!==a||t.y!==b)t.x=a,t.y=b,n=[]}function E(a){var b;a*=5;1>a?b=a-(1-Math.exp(-a)):(b=Math.exp(-1),--a,a=1-Math.exp(-a),b+=a*(1-b));return b*r}var r=1,z=!1,B=!1,t={x:0,y:0},A=!1,m,g,e={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},n=[],v=!1,x={};setInterval(function(){x={}},1E4);var G=function(){var a=0;return function(b){return b.uniqueID||(b.uniqueID=
a++)}}();/chrome/.test(navigator.userAgent.toLowerCase())&&(window.addEventListener("mousedown",I,!1),window.addEventListener("mousewheel",u,!1),window.addEventListener("keydown",C,!1),window.addEventListener("load",y,!1))})})(jQuery);